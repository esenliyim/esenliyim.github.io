import{_ as o,o as n,c as t,a,e as s,d as e}from"./app.4a19620f.js";const i={},p=s(`<p>I won&#39;t go into much detail here, but there&#39;s this pet project of mine that I have been working on for a while now. It&#39;s supposed to be an absolutely totally very revolutionary piece of software that addresses the greatest obstacle to world peace: the disgusting and hostile situation that comes about when multiple people try to pick a film to watch together.</p><p>To do its thing, the application takes in data from multiple sources, be it internally generated or imported from an outside source, and uses that data to create a &quot;common piece of data&quot;, so to speak. One of these outside sources is IMDb, as is practically inevitable wherever film data is involved. As much as I like IMDb and make great use of their service, turns out their data is kind of annoying to work with.</p><h2 id="seeing-what-we-re-working-with" tabindex="-1"><a class="header-anchor" href="#seeing-what-we-re-working-with" aria-hidden="true">#</a> Seeing what we&#39;re working with</h2><p>To figure out what kind of <em>infrastructure</em> I needed for the application, I figured I would try to get to know &#39;my data&#39; better. Figure out what the data contains, how much of it is there, how much of it is relevant to me, how am I gonna go about handling it, that sort of thing. Do some research, basically.</p><p>As I just mentioned a couple paragraphs ago, it was inevitable that such an application would eventually find itself with a bunch of data that came from IMDb. In fact, I expect that&#39;s where the majority of the user-given data would come from. Because, you know, it&#39;s a huge platform. So it&#39;s a good place to start my humble data analysis.</p><p>The IMDb data I expect to end up working with is mostly in the form of CSV files, which look like this:</p><div class="language-csv ext-csv"><pre class="language-csv"><code><span class="token value">Position</span><span class="token punctuation">,</span><span class="token value">Const</span><span class="token punctuation">,</span><span class="token value">Created</span><span class="token punctuation">,</span><span class="token value">Modified</span><span class="token punctuation">,</span><span class="token value">Description</span><span class="token punctuation">,</span><span class="token value">Title</span><span class="token punctuation">,</span><span class="token value">URL</span><span class="token punctuation">,</span><span class="token value">Title Type</span><span class="token punctuation">,</span><span class="token value">IMDb Rating</span><span class="token punctuation">,</span><span class="token value">Runtime (mins)</span><span class="token punctuation">,</span><span class="token value">Year</span><span class="token punctuation">,</span><span class="token value">Genres</span><span class="token punctuation">,</span><span class="token value">Num Votes</span><span class="token punctuation">,</span><span class="token value">Release Date</span><span class="token punctuation">,</span><span class="token value">Directors</span><span class="token punctuation">,</span><span class="token value">Your Rating</span><span class="token punctuation">,</span><span class="token value">Date Rated</span>
<span class="token value">1</span><span class="token punctuation">,</span><span class="token value">tt7220754</span><span class="token punctuation">,</span><span class="token value">2022-05-04</span><span class="token punctuation">,</span><span class="token value">2022-05-04</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token value">Hevi reissu</span><span class="token punctuation">,</span><span class="token value">https://www.imdb.com/title/tt7220754/</span><span class="token punctuation">,</span><span class="token value">movie</span><span class="token punctuation">,</span><span class="token value">7.0</span><span class="token punctuation">,</span><span class="token value">92</span><span class="token punctuation">,</span><span class="token value">2018</span><span class="token punctuation">,</span><span class="token value">&quot;Comedy, Music&quot;</span><span class="token punctuation">,</span><span class="token value">8902</span><span class="token punctuation">,</span><span class="token value">2018-03-09</span><span class="token punctuation">,</span><span class="token value">&quot;Jukka Vidgren, Juuso Laatio&quot;</span><span class="token punctuation">,</span><span class="token punctuation">,</span>
<span class="token value">2</span><span class="token punctuation">,</span><span class="token value">tt2724064</span><span class="token punctuation">,</span><span class="token value">2022-05-04</span><span class="token punctuation">,</span><span class="token value">2022-05-04</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token value">Sharknado</span><span class="token punctuation">,</span><span class="token value">https://www.imdb.com/title/tt2724064/</span><span class="token punctuation">,</span><span class="token value">tvMovie</span><span class="token punctuation">,</span><span class="token value">3.3</span><span class="token punctuation">,</span><span class="token value">86</span><span class="token punctuation">,</span><span class="token value">2013</span><span class="token punctuation">,</span><span class="token value">&quot;Action, Adventure, Comedy, Horror, Sci-Fi, Thriller&quot;</span><span class="token punctuation">,</span><span class="token value">49177</span><span class="token punctuation">,</span><span class="token value">2013-07-11</span><span class="token punctuation">,</span><span class="token value">Anthony C. Ferrante</span><span class="token punctuation">,</span><span class="token punctuation">,</span>
<span class="token value">3</span><span class="token punctuation">,</span><span class="token value">tt1094249</span><span class="token punctuation">,</span><span class="token value">2022-05-04</span><span class="token punctuation">,</span><span class="token value">2022-05-04</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token value">Hotel Chevalier</span><span class="token punctuation">,</span><span class="token value">https://www.imdb.com/title/tt1094249/</span><span class="token punctuation">,</span><span class="token value">short</span><span class="token punctuation">,</span><span class="token value">7.2</span><span class="token punctuation">,</span><span class="token value">13</span><span class="token punctuation">,</span><span class="token value">2007</span><span class="token punctuation">,</span><span class="token value">&quot;Short, Drama, Romance&quot;</span><span class="token punctuation">,</span><span class="token value">33516</span><span class="token punctuation">,</span><span class="token value">2007-09-03</span><span class="token punctuation">,</span><span class="token value">Wes Anderson</span><span class="token punctuation">,</span><span class="token punctuation">,</span>
<span class="token value">4</span><span class="token punctuation">,</span><span class="token value">tt0056757</span><span class="token punctuation">,</span><span class="token value">2022-05-04</span><span class="token punctuation">,</span><span class="token value">2022-05-04</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token value">The Fugitive</span><span class="token punctuation">,</span><span class="token value">https://www.imdb.com/title/tt0056757/</span><span class="token punctuation">,</span><span class="token value">tvSeries</span><span class="token punctuation">,</span><span class="token value">8.1</span><span class="token punctuation">,</span><span class="token value">51</span><span class="token punctuation">,</span><span class="token value">1963</span><span class="token punctuation">,</span><span class="token value">&quot;Adventure, Crime, Drama, Thriller&quot;</span><span class="token punctuation">,</span><span class="token value">3977</span><span class="token punctuation">,</span><span class="token value">1963-09-17</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token punctuation">,</span>
</code></pre></div>`,7),l={class:"custom-container tip"},r={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},c=a("path",{d:"M297.6 258.73H296c-59.47.87-110.69 51.45-111.83 110.43-.626 36.485 16.525 71.085 45.94 92.68 17.86 13.18 29.88 33.56 33.77 56.42h67.62c4-22.82 16.13-43.3 34.16-56.74 28.589-21.097 45.496-54.587 45.496-90.118 0-30.03-12.078-58.833-33.496-79.882a113.133 113.133 0 0 0-80.06-32.79ZM265.19 550.7v26.6c0 4.84 1.17 6.43 1.17 6.43l63.72-.59V550.7h-64.89Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),u=a("path",{d:"M297.64 123.3C133.26 123.3 0 256.56 0 420.94s133.26 297.63 297.64 297.63 297.63-133.25 297.63-297.63S462 123.3 297.64 123.3ZM385 487.57c-14.11 10.48-22.51 28.09-22.51 47.14v48.43c-.016 17.792-14.648 32.428-32.44 32.45h-64.86c-15.6 0-32.44-12-32.44-38.29v-42.82c0-19-8.21-36.4-21.93-46.52-37.882-27.85-59.959-72.44-59.14-119.45 1.46-77.24 66-141.09 143.81-142.22 38.87.19 76.89 14.37 105 42.11a143.764 143.764 0 0 1 43.14 103c-.159 45.761-21.911 88.86-58.63 116.17Z",style:{fill:"#48b884","fill-rule":"nonzero"},transform:"matrix(.042 0 0 .042 0 -5.178)"},null,-1),h=[c,u],d=a("p",{class:"custom-container-title"},"Why these titles?",-1),k=a("p",null,"The sample list above is something I made up for this post. Those particular titles were not chosen at random, nor because they mean so much to me. They each represent a certain type of title, and that matters to the point I'll try to make.",-1),m=s(`<p>The files come from two sources: user uploads, or just <code>curl</code>&#39;d straight from IMDb&#39;s website using their export feature. Which are actually the same thing. I fetch the CSVs from the same place that users get theirs from. I just skip the middleman, save the user the steps in-between.</p><p>One important thing about my application is that it&#39;s all about films. No TV shows, no music videos, no anime, no nothin&#39;. Don&#39;t want em. I&#39;m interested in films only. But platforms like IMDb or TMDB or Trakt don&#39;t do films only, do they? No, they carry everything. And they let you mix all kinds of media together in the same collection. Except good ol&#39; Letterboxd, which only deals with films, but that&#39;s another story. Anyway, what that means is that when a user tries to import data from one of those sources into my application, that data is very likely going to be a mix of films and everything else, and I&#39;ll have to be able to get rid of that &quot;something else&quot; while making sure I don&#39;t accidentally get rid of the relevant stuff.</p><p>So how do I do that? Easy. Look at the sample CSV file above. You&#39;ll see a <code>Title Type</code> field in the header row. Great. I know <a href="https://www.imdb.com/title/tt7220754/?ref_=nv_sr_srsg_0" target="_blank" rel="noopener noreferrer"><em>Hevi reissu</em></a> (aka Heavy Trip, a great Norwegian flick) is a film. It says <code>movie</code> under its <code>Title Type</code>, so there we go. I program the application to pick up <code>movie</code>s only. Done.</p><p>No, not done. Because look at the CSV again. I know <a href="https://www.imdb.com/title/tt2724064/?ref_=nv_sr_srsg_0" target="_blank" rel="noopener noreferrer"><em>Sharknado</em></a> is also a film. But its title type is not <code>movie</code>, it&#39;s <code>tvMovie</code>. I bet most people wouldn&#39;t even know it&#39;s a TV movie when they add that legendary masterpiece to their list. Now when someone imports a list with <em>Sharknado</em> on it, it will get ignored. Same with <a href="https://www.imdb.com/title/tt1094249/?ref_=fn_al_tt_1" target="_blank" rel="noopener noreferrer"><em>Hotel Chevalier</em></a>, Wes Anderson&#39;s 2007 short and the standalone prologue to one my favorite films of his, <a href="https://www.imdb.com/title/tt0838221/?ref_=nv_sr_srsg_0" target="_blank" rel="noopener noreferrer"><em>Darjeeling Limited</em></a>. It&#39;s a short film, but a film nonetheless, and I want it picked up. So apparently I need to add <code>short</code> to my <code>title type</code> whitelist.</p><p>Now it&#39;s kinda obvious that IMDb may or may not have a rather <em>fine</em> title categorization scheme. One might also call it &quot;confusing&quot;, but we&#39;re ain&#39;t here to judge noone&#39;s database schemas. Anyway, clearly just guessing at the names of those subtypes will not work. I will have to find me a definitive list of what possible types I can expect from them. Probably should have done it at the beginning, but oh well. Off to google with me. Well, turns out that information is nowhere to be found. There&#39;s no official documentation about it, at least none that I could find. All I managed to find were a few old forum posts, but I can&#39;t possibly trust the completeness and reliability of the information on there. Most of them were non-programming related discussions about the types anyway.</p><p>Well what do you do when you can&#39;t find the information on a search engine?</p><h2 id="break-out-the" tabindex="-1"><a class="header-anchor" href="#break-out-the" aria-hidden="true">#</a> Break out the \u{1F40D}</h2><p>Yes, this is a job for every programmer&#39;s favorite elongated, limbless, carnivorous reptile: Python. We&#39;re gonna unleash it on IMDb&#39;s dataset and <em>DEMAND</em> information from it. Fortunately, IMDb regularly publishes a number of <a href="https://www.imdb.com/interfaces/" target="_blank" rel="noopener noreferrer">datasets on their website</a>. Pretty neat stuff. It&#39;s not everything they have because part of their business model is selling data through their paid APIs and whatnot, but still very cool. In case you&#39;re wondering, the latest dump contains a grand total of 8,870,622 lines. As you&#39;ll see below, though, only a small part of that is films. Spoilers: the vast majority of those are not even <strong>m</strong>ovies, despite the second letter in the website&#39;s name.</p><p>Anyway, the idea is, if nobody&#39;s giving me a complete list of all the title types, I&#39;m gonna brute force the problem. Since this is a complete list of every single title IMDb has, it should also contain every single title type they have. Or at least if there are title types that aren&#39;t on there, I don&#39;t need to worry about them because I can&#39;t encounter them anyway. And, thanks to the almighty snake, all it takes is a whopping 13 lines of code that took like 2 minutes to write.</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> csv

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;titles.tsv&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> imdbData<span class="token punctuation">,</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;foundTypes.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> foundTypesFile<span class="token punctuation">:</span>
    foundtypes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    data <span class="token operator">=</span> csv<span class="token punctuation">.</span>reader<span class="token punctuation">(</span>imdbData<span class="token punctuation">,</span> delimiter<span class="token operator">=</span><span class="token string">&quot;\\t&quot;</span><span class="token punctuation">,</span> quotechar<span class="token operator">=</span><span class="token string">&#39;&quot;&#39;</span><span class="token punctuation">)</span>
    
    <span class="token keyword">for</span> row <span class="token keyword">in</span> data<span class="token punctuation">:</span>
        titleType <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        genres <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token builtin">len</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> titleType <span class="token keyword">not</span> <span class="token keyword">in</span> foundtypes<span class="token punctuation">:</span>
            foundtypes<span class="token punctuation">.</span>append<span class="token punctuation">(</span>titleType<span class="token punctuation">)</span>
            foundTypesFile<span class="token punctuation">.</span>write<span class="token punctuation">(</span>titleType<span class="token punctuation">)</span>
            foundTypesFile<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">&quot;\\n&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>13 lines. Open the file, shove its contents into Python&#39;s csv reader, then go row by row, adding the title type into a list if it isn&#39;t already in there. I&#39;m sure it could be written better, but this one still goes through ~9 million lines in about 10 seconds, so who cares, really? It&#39;ll do.</p>`,11),v={class:"custom-container info"},y={viewBox:"0 0 25 25",xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",style:{"fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},f=a("path",{d:"M13 1.188C6.477 1.188 1.188 6.477 1.188 13S6.477 24.813 13 24.813 24.813 19.523 24.813 13c0-6.523-5.29-11.812-11.813-11.812Zm2.459 18.307c-.608.24-1.092.422-1.455.548a3.838 3.838 0 0 1-1.262.189c-.736 0-1.309-.18-1.717-.539a1.74 1.74 0 0 1-.611-1.367c0-.215.015-.435.045-.659a8.23 8.23 0 0 1 .147-.759l.761-2.688c.067-.258.125-.503.171-.731.046-.23.068-.441.068-.633 0-.342-.071-.582-.212-.717-.143-.135-.412-.201-.813-.201-.196 0-.398.029-.605.09-.205.063-.383.12-.529.176l.201-.828c.498-.203.975-.377 1.43-.521a4.225 4.225 0 0 1 1.29-.218c.731 0 1.295.178 1.692.53.395.353.594.812.594 1.376 0 .117-.014.323-.041.617a4.129 4.129 0 0 1-.152.811l-.757 2.68a7.582 7.582 0 0 0-.167.736 3.892 3.892 0 0 0-.073.626c0 .356.079.599.239.728.158.129.435.194.827.194.185 0 .392-.033.626-.097.232-.064.4-.121.506-.17l-.203.827Zm-.134-10.878a1.807 1.807 0 0 1-1.275.492c-.496 0-.924-.164-1.28-.492a1.57 1.57 0 0 1-.533-1.193c0-.465.18-.865.533-1.196a1.812 1.812 0 0 1 1.28-.497c.497 0 .923.165 1.275.497.353.331.53.731.53 1.196 0 .467-.177.865-.53 1.193Z",style:{fill:"#157ffb","fill-rule":"nonzero"},transform:"translate(-1.257 -1.257) scale(1.0582)"},null,-1),g=[f],w=a("p",{class:"custom-container-title"},"I'm an idiot.",-1),b=a("p",null,[e("While doing all this, I was utterly unaware that SQLite has "),a("a",{href:"https://www2.sqlite.org/cvstrac/wiki?p=ImportingFiles",target:"_blank",rel:"noopener noreferrer"},"a built-in function for importing delimited files"),e(", which would have made my life much easier.")],-1),I=s(`<p>Excluding the one from the header row, there are apparently a total of 11 different title types. Namely, as they appear in CSV/TSV files: <code>short, movie, tvEpisode, tvSeries, tvShort, tvMovie, tvMiniSeries, tvSpecial, video, videoGame, tvPilot</code>. Thank you, snake. Now I know what I&#39;m up against.</p><h2 id="genreless-films-are-a-thing" tabindex="-1"><a class="header-anchor" href="#genreless-films-are-a-thing" aria-hidden="true">#</a> Genreless films are a thing</h2><p>Another very common feature in any application that lists films is the ability to filter them by genre. Obviously I want my program to be able to do that too, it&#39;s sort of a must.</p><p>Unsurprisingly, a similar problem to the one above can be encountered here too. I need a complete list of genres, but it&#39;s nowhere to be found, at least not in any sort of documentation that describes how they&#39;re used in data rather than in the website UI. TMDB&#39;s public API has an endpoint where you can ask for that complete list, so does Trakt. They return the names of all their genres, and how they&#39;re referred to within the data. So you don&#39;t have to guess anything, you don&#39;t have to manually populate arrays, you can have your code do it. But IMDb doesn&#39;t have anything like that, at least nothing that doesn&#39;t cost more than most people&#39;s yearly salaries, so I gotta go back to the snake again.</p><p>Extending the above script to apply the same logic to genres will generate a complete list of all genre names as they appear in the dataset. And they are: <code>Documentary, Short, Animation, Comedy, Romance, Sport, News, Drama, Fantasy, Horror, Biography, Music, War, Crime, Western, Family, Adventure, Action, History, Mystery, \\N, Sci-Fi, Musical, Thriller, Film-Noir, Talk-Show, Game-Show, Reality-TV, Adult</code>. A total of 29 genres. Well, 28, because obviously <code>\\N</code> is not a genre (or is it?). Apparently there are titles on IMDb that don&#39;t have genres. Anyway: note to self: set the genre field in your own database model to be nullable.</p><h2 id="getting-an-approximate-on-the-scope-of-the-data-i-ll-be-working-with" tabindex="-1"><a class="header-anchor" href="#getting-an-approximate-on-the-scope-of-the-data-i-ll-be-working-with" aria-hidden="true">#</a> Getting an approximate on the scope of the data I&#39;ll be working with</h2><p>Ever wonder how many films there are? I kinda did wonder, making this application. Not sure how useful it&#39;d be for the development process, but I decided to find out how many films are there, or at least on IMDb, which, I&#39;m guessing would be the largest database out there. So, once again, back to the snake. Modify the above script to:</p><div class="language-python ext-py line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> csv

types <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;short&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;movie&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;tvMovie&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;tvSpecial&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;tvShort&#39;</span><span class="token punctuation">]</span>

<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;titles.tsv&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> imdbData<span class="token punctuation">:</span>
    count <span class="token operator">=</span> <span class="token number">0</span>
    data <span class="token operator">=</span> csv<span class="token punctuation">.</span>reader<span class="token punctuation">(</span>imdbData<span class="token punctuation">,</span> delimiter<span class="token operator">=</span><span class="token string">&quot;\\t&quot;</span><span class="token punctuation">,</span> quotechar<span class="token operator">=</span><span class="token string">&#39;&quot;&#39;</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> row <span class="token keyword">in</span> data<span class="token punctuation">:</span>
        titleType <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> titleType <span class="token keyword">in</span> types<span class="token punctuation">:</span>
            count <span class="token operator">+=</span> <span class="token number">1</span>
    
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;total films: &quot;</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>I included <code>tvSpecial</code> and <code>tvShort</code> in there too. They may not sound like they&#39;d be considered films, but I took a short trip through IMDb to look at some samples of those types, and I saw enough titles that <em>I</em> think belong in there. So in they are.</p><p>Anyway, the code runs for 10 seconds, again. Unsurprising since it&#39;s basically the same thing. The grand total of &#39;films&#39; in IMDb&#39;s dataset is... \u{1F941} DRUM ROLL \u{1F941}... 1,657,142. That&#39;s a lot of titles, but the figure is not very <em>realistic</em> for my purposes. You can cut it down by quite a bit if you take out all the porn out of it. Did you even know pornographic titles can also have IMDb pages? Anyway, this platform is supposed to be a &#39;social&#39; one, and though watching porn is indubitably a very classy cinematic event to enjoy together with one&#39;s peers, it&#39;s not quite the kind of thing I&#39;m going for. So they&#39;re getting filtered out.</p><div class="language-python ext-py"><pre class="language-python"><code>isAdult <span class="token operator">=</span> row<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>titleType <span class="token keyword">in</span> types<span class="token punctuation">)</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>isAdult <span class="token operator">==</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
</code></pre></div><p>you get 1,646,062 titles. In other words, only about 16% of IMDb&#39;s entire database is made up of films that aren&#39;t porn. Honestly though, that&#39;s a lot less porn than I&#39;d anticipated. Just over 11 thousand adult titles. Though I&#39;m sure it&#39;d be more if I hadn&#39;t filtered out certain title types.</p><p>Moving on, let&#39;s think about what else I can weed out using only the limited data in that one file. One option is to ignore anything with runtime shorter than some arbitrary value. Say, 7 minutes. 7 is a good number. I think I feel okay about ignoring stuff shorter than that. Watch them on your own time, not together with friends over beers and a bowl of popcorn. Back to the snake. Change the code. Cast the field into an int. Run into errors because apparently some of those 1.7m titles have <code>\\N</code> as their runtime. Should have seen that coming, as there are a bunch of real reasons why the runtime of a title may not be known. Fix the error, and now we&#39;re at 908,191 titles. Almost half of the 16% is gone already, we&#39;re now at ~10%.</p><p>Now unfortunately that&#39;s about what can be reasonably scripted using only the basic &#39;titles&#39; data dump from IMDb. To weed out other &quot;irrelevant&quot; titles, you&#39;d have to look at other pieces of data. Like, a large chunk of that remaining 10% is absolutely useless stuff that probably only exist as someone&#39;s bragging rights, or to pad some portfolios or whatever. As a quick example, there are a ton of &#39;making of&#39;s out there like <a href="https://www.imdb.com/title/tt11616456/?ref_=fn_al_tt_7" target="_blank" rel="noopener noreferrer">this one</a> or <a href="https://www.imdb.com/title/tt7401512/?ref_=fn_al_tt_8" target="_blank" rel="noopener noreferrer">this one</a>, that do get through my rudimentary filter, but I don&#39;t realistically see any group of friends ever getting together to have a nice evening watching those. Can you imagine like four dudes, who have no personal affiliation to those things in any way, all agreeing to sit down and watch a super obscure indie films&#39;s even more super obscure making-of documentary. Not happening. To get rid of things like that you&#39;d have to get creative and reference IMDb&#39;s other dumps, which contain further details about titles. But I&#39;m not willing to do that, I was mostly just satisfying my curiosity anyway.</p><p>I also wrote a little Go program (because it&#39;s a very parallelizable task and Go is great for that) that queries ALL the films on TMDB. There it&#39;s a bit easier to get exactly what you want because you&#39;re working with a nice API that also happens to be well documented. Though of course, since it&#39;s making a metric \u{1F351} load of API calls, it takes a while to run. I may share the results of that in another post. I&#39;ve actually upgraded my CPU and <em>tripled</em> the core count since that code was written. Should let the new one have a go (huehuehueh) at it one of these days.</p><p>So anyway, that was it. There are a bunch more lessons I&#39;ve learned while working with the data from sources like IMDb, some of them about database modelling, some about films themselves, some about other things. I&#39;ll be writing about those soon. Now go away, or I shall taunt you a second time-a.</p>`,16);function _(T,D){return n(),t("div",null,[p,a("div",l,[(n(),t("svg",r,h)),d,k]),m,a("div",v,[(n(),t("svg",y,g)),w,b]),I])}var S=o(i,[["render",_],["__file","imdbanalysis.html.vue"]]);export{S as default};
